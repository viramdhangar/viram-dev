<ion-header>
  <ion-toolbar color="grey" style="font-size: 80%; color: #ffffff;">
    <ion-title><ion-text [innerHTML]=" 'appointed.appointMember' |  translate "></ion-text></ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="#"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="changeForm">
    <ion-grid>
      <ion-row>
        <ion-col size-xl="6" offset-xl="3" class="ion-no-padding">
          <ion-item>
            <ion-label position="floating">
              <ion-text [innerHTML]=" 'appointed.appointTo' |  translate "></ion-text>
            </ion-label>
            <ion-select class="myCustomSelect" interface="popover" [formControl]="$any(changeForm).controls['appointId']">
              <ion-select-option *ngFor="let cp of candidatePosts" value="{{cp.id}}" class="brown-option">{{cp.candidatePost}}</ion-select-option>
            </ion-select>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-item>
        <ion-col size="3" style="text-align: left;">
          <ion-label><ion-text [innerHTML]=" 'appointed.member' |  translate "></ion-text></ion-label>
        </ion-col>
        <ion-col size="9" style="text-align: left;">
          <ion-searchbar class="searchBar" [(ngModel)]="selectedUser" [formControl]="$any(changeForm).controls['selectedUserId']" (ionInput)="filterStateItems($event)"
            animated="true"></ion-searchbar>
          <ion-list *ngFor="let user of allSearchedUser">
            <ion-item (click)="selectUser(user)">
              {{user.firstName}} {{user.lastName}} <br>
              <ion-text *ngIf="user?.village">({{user.village}}, {{user.tehsil}})</ion-text>
              <ion-text *ngIf="user.village == null">({{user.phone}})</ion-text>
            </ion-item>
          </ion-list>
        </ion-col>
      </ion-item>
      </ion-row>

      <ion-row>
        <ion-col size-xl="6" offset-xl="3" class="ion-no-padding">
          <ion-row>
            <ion-col>
              <ion-item button="true" id="open-date-input">
                <ion-label position="floating">
                  <ion-text [innerHTML]=" 'appointed.appointedOn' |  translate "></ion-text>
                </ion-label>
                <ion-input [value]="dateValue" [formControl]="$any(changeForm).controls['postDate']"></ion-input>
               <!-- fix me  <ion-popover trigger="open-date-input" show-backdrop="false">
                  <ng-template>
                    <ion-datetime #popoverDatetime presentation="date"
                      (ionChange)="dateValue = formatDate(popoverDatetime.value)"></ion-datetime>
                  </ng-template>
                </ion-popover>-->
              </ion-item>

            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-xl="6" offset-xl="3" class="ion-no-padding">
          <ion-item>
            <ion-label position="floating">
              <ion-text [innerHTML]=" 'appointed.sortOrder' |  translate "></ion-text>
            </ion-label>
            <ion-input type="number" name="sortOrder" [formControl]="$any(changeForm).controls['sortOrder']"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col style="text-align: center;">
          <ion-button color="primary" style="color: #fff;" (click)="saveMemberPost()"><ion-text [innerHTML]=" 'appointed.save' |  translate "></ion-text></ion-button>
        </ion-col>
      </ion-row>
      </ion-grid>
      </form>
</ion-content>
